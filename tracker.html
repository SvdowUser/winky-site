<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Winky â€“ Token tracker</title>

  <style>
    :root {
      --bg: #050608;
      --card: #0b0f14;
      --accent: #00fff7;
      --accent-soft: rgba(0,255,247,0.12);
      --accent-strong: rgba(0,255,247,0.25);
      --text-main: #f7f7f7;
      --text-muted: #a3abb8;
      --danger: #ff4d72;
      --green: #7cff4d;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, sans-serif;
      background: radial-gradient(circle at top, #07121c 0, var(--bg) 55%);
      color: var(--text-main);
    }

    a {
      color: var(--accent);
      text-decoration: none;
    }
    a:hover { text-decoration: underline; }

    /* NAVBAR â€“ Ã¤hnlich wie auf index.html */
    .nav {
      max-width: 980px;
      margin: 0 auto;
      padding: 20px 20px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      letter-spacing: 0.04em;
    }

    .nav-links a {
      margin-left: 18px;
      color: var(--text-muted);
      font-weight: 500;
    }

    .nav-links a:hover {
      color: var(--accent);
    }

    .page {
      max-width: 980px;
      margin: 0 auto 80px;
      padding: 32px 20px 80px;
    }

    h1 {
      font-size: clamp(28px, 4vw, 34px);
      margin: 0 0 6px;
    }

    .page-intro {
      max-width: 640px;
      color: var(--text-muted);
      font-size: 15px;
      margin-bottom: 24px;
    }

    .section-label {
      text-transform: uppercase;
      font-size: 11px;
      letter-spacing: 0.16em;
      color: var(--accent);
      margin-bottom: 6px;
    }

    /* FILTER BAR */

    .filter-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      align-items: center;
      margin-bottom: 20px;
      padding: 12px 14px;
      border-radius: 14px;
      background: radial-gradient(circle at top left,
        rgba(0,255,247,0.10), var(--card));
      border: 1px solid rgba(255,255,255,0.08);
    }

    .filter-input,
    .filter-select {
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(2,6,12,0.8);
      color: var(--text-main);
      padding: 8px 12px;
      font-size: 13px;
      outline: none;
    }

    .filter-input::placeholder {
      color: rgba(255,255,255,0.4);
    }

    .filter-select {
      padding-right: 28px;
    }

    .filter-toggle {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
      color: var(--text-muted);
    }

    .filter-toggle input {
      accent-color: var(--accent);
    }

    /* TOKEN TABLE */

    .token-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
      font-size: 13px;
    }

    .token-table thead {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--text-muted);
    }

    .token-table th,
    .token-table td {
      padding: 10px 10px;
      text-align: left;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }

    .token-row {
      background: rgba(0,0,0,0.35);
    }

    .token-row:nth-child(2n) {
      background: rgba(0,0,0,0.5);
    }

    .token-name {
      font-weight: 500;
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .token-symbol {
      font-size: 11px;
      color: var(--text-muted);
    }

    .badge-risk {
      display: inline-flex;
      align-items: center;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 11px;
      border: 1px solid rgba(255,255,255,0.18);
    }

    .badge-low {
      border-color: rgba(124,255,77,0.7);
      color: var(--green);
    }

    .badge-med {
      border-color: rgba(255,206,86,0.8);
      color: #ffce56;
    }

    .badge-high {
      border-color: rgba(255,77,114,0.8);
      color: var(--danger);
    }

    .badge-winky {
      display: inline-flex;
      padding: 3px 8px;
      border-radius: 999px;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      border: 1px solid var(--accent-soft);
      color: var(--accent);
      background: rgba(0,255,247,0.08);
    }

    .token-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .btn-link {
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.4);
      color: var(--text-main);
      text-decoration: none;
      cursor: pointer;
    }

    .btn-link:hover {
      border-color: var(--accent-soft);
      color: var(--accent);
    }

    .table-note {
      margin-top: 10px;
      font-size: 11px;
      color: var(--text-muted);
    }

    @media (max-width: 800px) {
      .token-table thead {
        display: none;
      }
      .token-table,
      .token-table tbody,
      .token-table tr,
      .token-table td {
        display: block;
        width: 100%;
      }
      .token-table tr {
        margin-bottom: 10px;
        border-radius: 14px;
        overflow: hidden;
      }
      .token-table td {
        border-bottom: 1px solid rgba(255,255,255,0.08);
      }
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <header class="nav">
    <div class="nav-brand">
      <span>ðŸŸ¢ðŸŸ¢</span>
      <span>Winky</span>
    </div>
    <nav class="nav-links">
      <a href="index.html">Home</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="tracker.html">Token tracker</a>
    </nav>
  </header>

  <main class="page">
    <div class="section-label">Explorer</div>
    <h1>Token tracker & risk radar</h1>
    <p class="page-intro">
      View popular Solana meme tokens, basic market data and an early risk score.
      Data is mocked for now â€“ later this page can read live data from Dexscreener
      and from Winky launches.
    </p>

    <!-- FILTERS -->
    <div class="filter-bar">
      <input
        id="filter-search"
        class="filter-input"
        type="text"
        placeholder="Search by name or ticker..."
      />

      <select id="filter-risk" class="filter-select">
        <option value="all">Risk: all</option>
        <option value="low">Risk: low</option>
        <option value="medium">Risk: medium</option>
        <option value="high">Risk: high</option>
      </select>

      <select id="filter-mcap" class="filter-select">
        <option value="all">Market cap: all</option>
        <option value="small">&lt; 1M</option>
        <option value="mid">1M â€“ 10M</option>
        <option value="large">&gt; 10M</option>
      </select>

      <label class="filter-toggle">
        <input id="filter-winky" type="checkbox" />
        Only Winky launches
      </label>
    </div>

    <!-- TABLE -->
    <table class="token-table">
      <thead>
        <tr>
          <th>Token</th>
          <th>Chain</th>
          <th>Market cap</th>
          <th>24h volume</th>
          <th>Risk</th>
          <th>From Winky</th>
          <th></th>
        </tr>
      </thead>
      <tbody id="token-table-body"></tbody>
    </table>

    <p class="table-note">
      Risk level and Winky tags are rough previews for now.
      Bubble maps & on-chain holder analysis can be added later.
    </p>
  </main>

  <script>
    // --- Mock data (spÃ¤ter durch echte Dexscreener-API + dein Backend ersetzbar) ---
    const TOKENS = [
      {
        name: "Winky The Watcher",
        symbol: "WINKY",
        chain: "Solana",
        marketCap: 0,
        volume24h: 0,
        risk: "medium",
        isWinky: true,
        url: "#"
      },
      {
        name: "Own:Nothing",
        symbol: "NOTHING",
        chain: "Solana",
        marketCap: 1880000,
        volume24h: 160750,
        risk: "low",
        isWinky: false,
        url: "https://dexscreener.com/solana" // Platzhalter
      },
      {
        name: "Pepe Turbo",
        symbol: "PEPET",
        chain: "Solana",
        marketCap: 4500000,
        volume24h: 890000,
        risk: "medium",
        isWinky: false,
        url: "https://dexscreener.com/solana"
      },
      {
        name: "Winky Banana",
        symbol: "WBAN",
        chain: "Solana",
        marketCap: 950000,
        volume24h: 120000,
        risk: "high",
        isWinky: true,
        url: "#"
      }
    ];

    function formatUSD(n) {
      if (!n) return "â€“";
      if (n >= 1_000_000_000) return "$" + (n/1_000_000_000).toFixed(1) + "B";
      if (n >= 1_000_000)     return "$" + (n/1_000_000).toFixed(1) + "M";
      if (n >= 1_000)         return "$" + (n/1_000).toFixed(1) + "k";
      return "$" + n.toLocaleString();
    }

    function riskClass(risk) {
      if (risk === "low") return "badge-risk badge-low";
      if (risk === "high") return "badge-risk badge-high";
      if (risk === "medium") return "badge-risk badge-med";
      return "badge-risk";
    }

    function riskLabel(risk) {
      if (risk === "low") return "Low";
      if (risk === "high") return "High";
      if (risk === "medium") return "Medium";
      return "N/A";
    }

    function mcapBucket(mcap) {
      if (!mcap) return "all";
      if (mcap < 1_000_000) return "small";
      if (mcap <= 10_000_000) return "mid";
      return "large";
    }

    function renderTable() {
      const tbody = document.getElementById("token-table-body");
      const search = document.getElementById("filter-search").value.trim().toLowerCase();
      const risk   = document.getElementById("filter-risk").value;
      const mcap   = document.getElementById("filter-mcap").value;
      const onlyWinky = document.getElementById("filter-winky").checked;

      tbody.innerHTML = "";

      const filtered = TOKENS.filter(t => {
        if (search &&
            !t.name.toLowerCase().includes(search) &&
            !t.symbol.toLowerCase().includes(search)) {
          return false;
        }
        if (risk !== "all" && t.risk !== risk) return false;
        if (mcap !== "all" && mcapBucket(t.marketCap) !== mcap) return false;
        if (onlyWinky && !t.isWinky) return false;
        return true;
      });

      filtered.forEach(token => {
        const tr = document.createElement("tr");
        tr.className = "token-row";

        tr.innerHTML = `
          <td>
            <div class="token-name">
              <span>${token.name}</span>
              <span class="token-symbol">$${token.symbol}</span>
            </div>
          </td>
          <td>${token.chain}</td>
          <td>${formatUSD(token.marketCap)}</td>
          <td>${formatUSD(token.volume24h)}</td>
          <td><span class="${riskClass(token.risk)}">${riskLabel(token.risk)}</span></td>
          <td>${token.isWinky ? '<span class="badge-winky">Winky launch</span>' : 'â€”'}</td>
          <td>
            <div class="token-actions">
              <a class="btn-link" href="${token.url}" target="_blank" rel="noreferrer">
                View on Dexscreener
              </a>
            </div>
          </td>
        `;

        tbody.appendChild(tr);
      });
    }

    // Filter Events
    document.addEventListener("DOMContentLoaded", () => {
      ["filter-search","filter-risk","filter-mcap","filter-winky"]
        .forEach(id => {
          const el = document.getElementById(id);
          if (!el) return;
          el.addEventListener("input", renderTable);
          el.addEventListener("change", renderTable);
        });

      renderTable();
    });

    // --- SpÃ¤ter: hier kÃ¶nnte man live Daten von Dexscreener laden ---
    // fetch("https://api.dexscreener.com/latest/dex/tokens/...")
    //   .then(r => r.json())
    //   .then(data => { /* TOKENS = aus API befÃ¼llen, dann renderTable() aufrufen */ });
  </script>
</body>
</html>
