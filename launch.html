<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Winky – Launch a Solana meme token</title>

  <style>
    :root {
      --bg: #050608;
      --card: #0b0f14;
      --accent: #00fff7;
      --accent-soft: rgba(0,255,247,0.12);
      --accent-strong: rgba(0,255,247,0.25);
      --text-main: #f7f7f7;
      --text-muted: #a3abb8;
      --danger: #ff4d72;
      --green: #7cff4d;
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
      Roboto, sans-serif;
      background: radial-gradient(circle at top, #07121c 0, var(--bg) 55%);
      color: var(--text-main);
    }

    a {
      color: var(--accent);
      text-decoration: none;
    }
    a:hover { text-decoration: underline; }

    /* NAVBAR */
    .nav {
      max-width: 980px;
      margin: 0 auto;
      padding: 20px 20px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      letter-spacing: 0.04em;
    }

    .nav-links a {
      margin-left: 18px;
      color: var(--text-muted);
      font-weight: 500;
    }
    .nav-links a:hover { color: var(--accent); }

    .nav-wallet {
      margin-left: 20px;
      padding: 8px 16px;
      font-size: 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.04);
      cursor: pointer;
      transition: background .15s ease, box-shadow .15s ease, transform .15s ease;
    }
    .nav-wallet:hover {
      background: rgba(255,255,255,0.08);
      transform: translateY(-1px);
    }

    /* WINKY LOGO */
    .winky-logo {
      --size: 80px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: calc(var(--size) * 0.18);
    }
    .winky-logo--small { --size: 28px; }

    .winky-eye {
      width: calc(var(--size) * 0.38);
      height: calc(var(--size) * 0.38);
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 10px var(--accent-soft);
      transform-origin: center center;
    }

    .winky-eye.right { animation: winky-blink 14s infinite ease-in-out; }

    @keyframes winky-blink {
      0%, 94%, 100% { transform: scaleY(1) scaleX(1); }
      96%          { transform: scaleY(0.12) scaleX(1.3); }
      97.5%        { transform: scaleY(1) scaleX(1); }
    }

    /* PAGE */
    .page {
      max-width: 980px;
      margin: 0 auto 80px;
      padding: 20px 20px 80px;
    }

    .section-label {
      text-transform: uppercase;
      font-size: 11px;
      letter-spacing: 0.16em;
      color: var(--accent);
      margin-bottom: 6px;
    }

    h1 {
      font-size: 30px;
      margin: 4px 0 6px;
    }

    .intro-text {
      margin: 0 0 24px;
      color: var(--text-muted);
      font-size: 15px;
      max-width: 640px;
    }

    /* LAYOUT: FORM + PREVIEW */
    .launch-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.4fr) minmax(0, 1fr);
      gap: 18px;
      align-items: flex-start;
    }

    .launch-card {
      background: radial-gradient(circle at top left,
        rgba(0,255,247,0.14), var(--card));
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,0.12);
      padding: 18px 18px 20px;
    }

    .launch-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px 16px;
      margin-bottom: 14px;
    }

    .launch-field {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 13px;
    }

    .launch-label {
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.14em;
      font-size: 10px;
    }

    .launch-input,
    .launch-textarea,
    .launch-select {
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.14);
      background: rgba(2,6,12,0.75);
      color: var(--text-main);
      padding: 8px 12px;
      font-size: 13px;
      outline: none;
    }

    .launch-input::placeholder,
    .launch-textarea::placeholder {
      color: rgba(163,171,184,0.7);
    }

    .launch-input:focus,
    .launch-textarea:focus,
    .launch-select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px var(--accent-soft);
    }

    .launch-textarea {
      resize: vertical;
      min-height: 80px;
    }

    /* FEES */
    .fee-box {
      margin-top: 10px;
      padding: 12px 12px 10px;
      border-radius: 12px;
      background: rgba(0,0,0,0.3);
      border: 1px solid rgba(255,255,255,0.12);
      font-size: 13px;
      color: var(--text-muted);
    }

    .fee-options {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 8px;
    }

    .fee-option {
      display: flex;
      gap: 8px;
      align-items: flex-start;
      font-size: 13px;
    }

    .fee-option input {
      margin-top: 2px;
    }

    .fee-option strong {
      color: var(--text-main);
      font-weight: 500;
    }

    .fee-slider-row {
      margin-top: 8px;
      display: none;
      flex-direction: column;
      gap: 6px;
    }

    .fee-slider-header {
      display: flex;
      justify-content: space-between;
      font-size: 12px;
    }

    .fee-slider-label {
      text-transform: uppercase;
      letter-spacing: 0.14em;
      font-size: 10px;
      color: var(--text-muted);
    }

    .fee-slider-value {
      font-size: 12px;
      color: var(--accent);
    }

    .fee-note {
      font-size: 11px;
      color: var(--text-muted);
    }

    /* BUTTONS */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 10px 18px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      color: var(--text-main);
      background: transparent;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      text-decoration: none;
      transition:
        background .15s ease,
        transform .15s ease,
        box-shadow .15s ease,
        border-color .15s ease;
    }
    .btn span { margin-left: 6px; }

    .btn-primary {
      background: var(--accent);
      border-color: transparent;
      color: #020303;
      box-shadow: 0 0 18px var(--accent-strong);
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 26px var(--accent-strong);
    }

    .btn-secondary:hover {
      background: rgba(255,255,255,0.04);
      transform: translateY(-1px);
    }

    .btn-muted {
      opacity: 0.5;
      cursor: default;
      box-shadow: none;
      border-style: dashed;
    }

    .btn-row {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .helper-text {
      margin-top: 6px;
      font-size: 12px;
      color: var(--text-muted);
    }

    /* PREVIEW PANEL */
    .preview-card {
      background: radial-gradient(circle at top right,
        rgba(0,255,247,0.18), var(--card));
      border-radius: 20px;
      border: 1px solid rgba(255,255,255,0.12);
      padding: 16px 16px 18px;
    }

    .preview-title {
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .token-preview-header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }

    .token-logo {
      width: 54px;
      height: 54px;
      border-radius: 50%;
      overflow: hidden;
      border: 2px solid rgba(0,255,247,0.5);
      flex-shrink: 0;
    }

    #logo-canvas {
      display: block;
      width: 100%;
      height: 100%;
    }

    .token-preview-name {
      font-size: 18px;
      font-weight: 600;
    }

    .token-preview-ticker {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--accent);
    }

    .token-preview-desc {
      font-size: 13px;
      color: var(--text-muted);
      margin-bottom: 10px;
    }

    .preview-meta {
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .preview-links {
      font-size: 11px;
      color: var(--text-muted);
      line-height: 1.5;
    }

    .preview-json {
      margin-top: 12px;
      padding: 10px 10px 8px;
      border-radius: 12px;
      background: rgba(0,0,0,0.6);
      border: 1px solid rgba(255,255,255,0.12);
      font-size: 11px;
      color: var(--text-muted);
      max-height: 180px;
      overflow: auto;
      white-space: pre;
      font-family: "SF Mono", Menlo, Monaco, Consolas, monospace;
    }

    @media (max-width: 860px) {
      .launch-layout {
        grid-template-columns: 1fr;
      }
    }

  </style>
</head>
<body>

<!-- NAV -->
<header class="nav">
  <div class="nav-brand">
    <div class="winky-logo winky-logo--small">
      <span class="winky-eye left"></span>
      <span class="winky-eye right"></span>
    </div>
    <span>Winky</span>
  </div>

  <nav class="nav-links">
    <a href="index.html">Home</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="index.html#token">$WINKY</a>
    <a href="tracker.html">Token tracker</a>
    <a href="portfolio.html">Stake</a>
  </nav>

  <button id="wallet-button" class="nav-wallet btn btn-secondary">
    Connect wallet
  </button>
</header>

<main class="page">
  <div class="section-label">Launcher</div>
  <h1>Launch a Solana meme token</h1>
  <p class="intro-text">
    The Winky launcher helps you spin up a fun meme token idea as fast as possible.
    For now this is a <strong>pre-launch UI</strong>: it collects your idea, shows a preview
    of logo &amp; token card and then sends you over to Pump.fun.
    Later, the Winky bot will be able to create and list the token for you in one click.
  </p>

  <div class="launch-layout">
    <!-- FORM -->
    <section class="launch-card">
      <form id="launch-form" onsubmit="handlePrepareLaunch(event)">
        <div class="launch-grid">
          <div class="launch-field">
            <label class="launch-label" for="lf-name">Token name</label>
            <input
              id="lf-name"
              class="launch-input"
              type="text"
              placeholder="Example: NanoBanana"
              required
            />
            <small class="helper-text">
              Full name of your token – fun, short and memeable.
            </small>
          </div>

          <div class="launch-field">
            <label class="launch-label" for="lf-ticker">Symbol / ticker</label>
            <input
              id="lf-ticker"
              class="launch-input"
              type="text"
              placeholder="Example: $NANA"
              maxlength="8"
              required
            />
            <small class="helper-text">
              3–6 characters usually work best. Will be your on-chain ticker.
            </small>
          </div>

          <div class="launch-field">
            <label class="launch-label" for="lf-story">Idea &amp; story</label>
            <textarea
              id="lf-story"
              class="launch-textarea"
              placeholder="Describe your meme, lore and why this token should exist…"
            ></textarea>
            <small class="helper-text">
              This text helps Winky (and later the AI) generate good copy &amp; marketing.
            </small>
          </div>

          <div class="launch-field">
            <label class="launch-label" for="lf-art">Art prompt (logo)</label>
            <textarea
              id="lf-art"
              class="launch-textarea"
              placeholder="Example: hyper-cute 3D banana astronaut in a neon space suit, teal background"
            ></textarea>
            <small class="helper-text">
              Later this prompt can be used in Google AI Studio or other tools to create your logo.
              For now it’s stored with your launch idea.
            </small>
          </div>

          <div class="launch-field">
            <label class="launch-label" for="lf-logo">Upload logo (optional)</label>
            <input
              id="lf-logo"
              class="launch-input"
              type="file"
              accept="image/*"
            />
            <small class="helper-text">
              If you upload an image, it will be used in the preview instead of the generated logo.
            </small>
          </div>

          <div class="launch-field">
            <label class="launch-label" for="lf-website">Website (optional)</label>
            <input
              id="lf-website"
              class="launch-input"
              type="url"
              placeholder="https://yourtoken.xyz"
            />
          </div>

          <div class="launch-field">
            <label class="launch-label" for="lf-x">X / Twitter (optional)</label>
            <input
              id="lf-x"
              class="launch-input"
              type="text"
              placeholder="@youraccount or community"
            />
          </div>

          <div class="launch-field">
            <label class="launch-label" for="lf-discord">Discord (optional)</label>
            <input
              id="lf-discord"
              class="launch-input"
              type="text"
              placeholder="Invite link or server name"
            />
          </div>

          <div class="launch-field">
            <label class="launch-label" for="lf-telegram">Telegram (optional)</label>
            <input
              id="lf-telegram"
              class="launch-input"
              type="text"
              placeholder="Channel or group link"
            />
          </div>
        </div>

        <!-- FEES -->
        <div class="fee-box">
          <div class="fee-options">
            <label class="fee-option">
              <input
                type="radio"
                name="fee-mode"
                value="pumpfun"
                checked
                onchange="updateFeeUI()"
              />
              <span>
                <strong>No extra Winky fee (Pump.fun only)</strong><br/>
                You pay only the normal Pump.fun launch / trading fees.
                No additional Winky trading tax is added.
              </span>
            </label>

            <label class="fee-option">
              <input
                type="radio"
                name="fee-mode"
                value="winky"
                onchange="updateFeeUI()"
              />
              <span>
                <strong>Add Winky trading fee (Winky launch – coming soon)</strong><br/>
                Adds a small trading fee on top of your token. This will be split
                between you and the Winky prize pool.
              </span>
            </label>
          </div>

          <div id="fee-slider-row" class="fee-slider-row">
            <div class="fee-slider-header">
              <span class="fee-slider-label">Total fee</span>
              <span id="fee-slider-value" class="fee-slider-value">
                2% total · 1% creator · 1% prize pool
              </span>
            </div>
            <input
              id="fee-range"
              type="range"
              min="0"
              max="10"
              step="0.5"
              value="2"
              oninput="updateFeeDisplay(); updatePreviewFromInputs();"
            />
            <p class="fee-note">
              You can choose up to <strong>10% total</strong>. Whatever you pick is split
              automatically: <strong>50% to you as creator</strong> and
              <strong>50% to the Winky prize pool</strong>.
            </p>
          </div>
        </div>

        <div class="btn-row">
          <button class="btn btn-primary" type="submit">
            Prepare launch (preview)<span>→</span>
          </button>

          <button class="btn btn-secondary" type="button" onclick="openPumpFun()">
            Open Pump.fun<span>↗</span>
          </button>

          <button class="btn btn-secondary btn-muted" type="button" disabled>
            Launch with Winky (on-chain · soon)
          </button>
        </div>

        <p class="helper-text">
          After you launch on Pump.fun, your token can be bought directly there.
          Later, Winky bots on Telegram &amp; X will use the same data structure to launch for you.
        </p>
      </form>
    </section>

    <!-- PREVIEW -->
    <aside class="preview-card">
      <div class="preview-title">Token preview</div>

      <div class="token-preview-header">
        <div class="token-logo">
          <canvas id="logo-canvas" width="200" height="200"></canvas>
        </div>
        <div>
          <div id="preview-name" class="token-preview-name">Your token name</div>
          <div id="preview-ticker" class="token-preview-ticker">$TICKER</div>
        </div>
      </div>

      <p id="preview-desc" class="token-preview-desc">
        Fill out the form to see how your meme will look on listing sites and bots.
      </p>

      <div id="preview-meta" class="preview-meta">
        No Winky trading fee selected (Pump.fun only).
      </div>

      <div id="preview-links" class="preview-links">
        Website: –<br/>
        X / Twitter: –<br/>
        Discord: –<br/>
        Telegram: –
      </div>

      <div id="preview-json" class="preview-json">
{ /* launch data will show up here after "Prepare launch" */ }
      </div>
    </aside>
  </div>
</main>

<footer class="footer" style="
  max-width: 980px;
  margin: 0 auto;
  padding: 0 20px 32px;
  font-size: 12px;
  color: var(--text-muted);
  display: flex;
  justify-content: space-between;
  flex-wrap: wrap;
  gap: 6px;
  border-top: 1px solid rgba(255,255,255,0.08);
">
  <span>© 2025 Winky · Experimental Solana meme tooling. DYOR.</span>
  <span>
    <a href="index.html">Back to home</a>
  </span>
</footer>

<!-- JS: Wallet, Preview, Fees -->
<script>
  const WINKY_WALLET_STORAGE_KEY = "winkyWalletAddress";
  let uploadedLogoImg = null; // global für hochgeladenes Logo

  function shortAddress(addr) {
    if (!addr || addr.length < 8) return addr || "";
    return addr.slice(0,4) + "…" + addr.slice(-4);
  }

  async function connectWinkyWallet() {
    const btn = document.getElementById("wallet-button");

    if (!window.solana || !window.solana.isPhantom) {
      alert("Please install the Phantom wallet extension (Phantom).");
      window.open("https://phantom.app/", "_blank");
      return;
    }

    try {
      btn.disabled = true;
      btn.textContent = "Connecting…";

      const resp = await window.solana.connect();
      const pubkey = resp.publicKey.toString();

      localStorage.setItem(WINKY_WALLET_STORAGE_KEY, pubkey);
      btn.textContent = shortAddress(pubkey);
    } catch (err) {
      console.error("Wallet connect error:", err);
      const saved = localStorage.getItem(WINKY_WALLET_STORAGE_KEY);
      btn.textContent = saved ? shortAddress(saved) : "Connect wallet";
    } finally {
      btn.disabled = false;
    }
  }

  function initWalletButton() {
    const btn = document.getElementById("wallet-button");
    if (!btn) return;

    btn.addEventListener("click", connectWinkyWallet);
    const saved = localStorage.getItem(WINKY_WALLET_STORAGE_KEY);
    btn.textContent = saved ? shortAddress(saved) : "Connect wallet";
  }

  /* --- Logo Preview (Canvas + optional Upload) -------------------- */
  function drawLogoPreview(name) {
    const canvas = document.getElementById("logo-canvas");
    if (!canvas) return;
    const ctx = canvas.getContext("2d");
    const w = canvas.width;
    const h = canvas.height;

    ctx.clearRect(0, 0, w, h);

    // Hintergrund-Kreis
    ctx.save();
    ctx.beginPath();
    ctx.arc(w/2, h/2, w/2 - 8, 0, Math.PI * 2);
    ctx.closePath();
    ctx.clip();

    if (uploadedLogoImg) {
      // Hochgeladenes Logo in den Kreis zeichnen
      const img = uploadedLogoImg;
      const ratio = Math.max(w / img.width, h / img.height);
      const nw = img.width * ratio;
      const nh = img.height * ratio;
      const nx = (w - nw) / 2;
      const ny = (h - nh) / 2;
      ctx.drawImage(img, nx, ny, nw, nh);
    } else {
      // generierter Verlauf
      const grad = ctx.createLinearGradient(0, 0, w, h);
      grad.addColorStop(0, "#00fff7");
      grad.addColorStop(1, "#0066ff");
      ctx.fillStyle = grad;
      ctx.fillRect(0, 0, w, h);

      // Buchstabe
      ctx.fillStyle = "#020303";
      ctx.textAlign = "center";
      ctx.textBaseline = "middle";
      const label = (name ? name.trim().charAt(0).toUpperCase() : "?");
      ctx.font = "bold 80px system-ui";
      ctx.fillText(label, w/2, h/2);
    }

    ctx.restore();
  }

  function handleLogoUploadChange(e) {
    const file = e.target.files && e.target.files[0];
    if (!file) {
      uploadedLogoImg = null;
      const name = document.getElementById("lf-name").value.trim() || "Winky";
      drawLogoPreview(name);
      return;
    }

    const reader = new FileReader();
    reader.onload = function(ev) {
      const img = new Image();
      img.onload = function() {
        uploadedLogoImg = img;
        const name = document.getElementById("lf-name").value.trim() || "Winky";
        drawLogoPreview(name);
      };
      img.src = ev.target.result;
    };
    reader.readAsDataURL(file);
  }

  /* --- Fee UI ----------------------------------------------------- */
  function getFeeMode() {
    const radios = document.querySelectorAll('input[name="fee-mode"]');
    for (const r of radios) {
      if (r.checked) return r.value;
    }
    return "pumpfun";
  }

  function updateFeeUI() {
    const mode = getFeeMode();
    const row  = document.getElementById("fee-slider-row");
    const meta = document.getElementById("preview-meta");

    if (mode === "winky") {
      row.style.display = "flex";
      updateFeeDisplay();
      meta.textContent = "Winky trading fee selected – split between creator and prize pool.";
    } else {
      row.style.display = "none";
      meta.textContent = "No Winky trading fee selected (Pump.fun only).";
    }
  }

  function updateFeeDisplay() {
    const range = document.getElementById("fee-range");
    const label = document.getElementById("fee-slider-value");
    if (!range || !label) return;

    const total = parseFloat(range.value || "0");
    const half  = (total / 2).toFixed(1).replace(".0", "");
    const tot   = total.toFixed(1).replace(".0", "");

    if (total === 0) {
      label.textContent = "0% total · no extra fee";
    } else {
      label.textContent =
        tot + "% total · " + half + "% creator · " + half + "% prize pool";
    }
  }

  /* --- Pump.fun Button ------------------------------------------- */
  function openPumpFun() {
    window.open("https://pump.fun", "_blank");
  }

  /* --- Live Preview aus den Inputs ------------------------------- */
  function updatePreviewFromInputs() {
    const name     = document.getElementById("lf-name").value.trim();
    const ticker   = document.getElementById("lf-ticker").value.trim().toUpperCase();
    const story    = document.getElementById("lf-story").value.trim();
    const website  = document.getElementById("lf-website").value.trim();
    const xHandle  = document.getElementById("lf-x").value.trim();
    const discord  = document.getElementById("lf-discord").value.trim();
    const telegram = document.getElementById("lf-telegram").value.trim();

    document.getElementById("preview-name").textContent =
      name || "Your token name";
    document.getElementById("preview-ticker").textContent =
      ticker ? "$" + ticker : "$TICKER";

    document.getElementById("preview-desc").textContent =
      story || "Your token description will show up here.";

    const linksEl = document.getElementById("preview-links");
    linksEl.innerHTML =
      "Website: " + (website || "–") + "<br/>" +
      "X / Twitter: " + (xHandle || "–") + "<br/>" +
      "Discord: " + (discord || "–") + "<br/>" +
      "Telegram: " + (telegram || "–");

    drawLogoPreview(name || "Winky");
  }

  /* --- Form Submit (JSON Preview) -------------------------------- */
  function handlePrepareLaunch(e) {
    e.preventDefault();

    const name     = document.getElementById("lf-name").value.trim();
    const ticker   = document.getElementById("lf-ticker").value.trim().toUpperCase();
    const story    = document.getElementById("lf-story").value.trim();
    const art      = document.getElementById("lf-art").value.trim();
    const website  = document.getElementById("lf-website").value.trim();
    const xHandle  = document.getElementById("lf-x").value.trim();
    const discord  = document.getElementById("lf-discord").value.trim();
    const telegram = document.getElementById("lf-telegram").value.trim();

    const feeMode  = getFeeMode();
    const feeRange = document.getElementById("fee-range");
    const feeTotal = feeMode === "winky"
      ? parseFloat(feeRange.value || "0")
      : 0;
    const feeHalf  = feeTotal / 2;

    const creatorAddress = localStorage.getItem(WINKY_WALLET_STORAGE_KEY) || null;

    const launchData = {
      tokenName: name,
      ticker,
      story,
      artPromptLogo: art || null,
      website: website || null,
      socials: {
        x: xHandle || null,
        discord: discord || null,
        telegram: telegram || null
      },
      creatorWallet: creatorAddress,
      network: "solana",
      launchPath: feeMode === "pumpfun" ? "pumpfun" : "winky",
      feeModel: {
        totalPercent: feeTotal,
        split: feeTotal > 0 ? {
          creatorPercent: feeHalf,
          prizePoolPercent: feeHalf
        } : null
      },
      assets: {
        logo: uploadedLogoImg ? "uploaded" : "generated-from-name"
      },
      createdAt: new Date().toISOString()
    };

    const pre = document.getElementById("preview-json");
    pre.textContent = JSON.stringify(launchData, null, 2);
  }

  /* --- Init ------------------------------------------------------- */
  document.addEventListener("DOMContentLoaded", function () {
    initWalletButton();
    updateFeeUI();
    drawLogoPreview("Winky");

    // Live-Preview-Events
    [
      "lf-name",
      "lf-ticker",
      "lf-story",
      "lf-website",
      "lf-x",
      "lf-discord",
      "lf-telegram"
    ].forEach(id => {
      const el = document.getElementById(id);
      if (el) el.addEventListener("input", updatePreviewFromInputs);
    });

    const logoInput = document.getElementById("lf-logo");
    if (logoInput) {
      logoInput.addEventListener("change", handleLogoUploadChange);
    }

    updatePreviewFromInputs();
  });
</script>

</body>
</html>
