<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Winky – Launch a Meme Token</title>

  <style>
    :root {
      --bg: #050608;
      --card: #0b0f14;
      --accent: #00fff7;
      --accent-soft: rgba(0,255,247,0.12);
      --accent-strong: rgba(0,255,247,0.25);
      --text-main: #f7f7f7;
      --text-muted: #a3abb8;
      --danger: #ff4d72;
      --green: #7cff4d;
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        Roboto, sans-serif;
      background: radial-gradient(circle at top, #07121c 0, var(--bg) 55%);
      color: var(--text-main);
    }

    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .nav {
      max-width: 980px;
      margin: 0 auto;
      padding: 20px 20px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600;
      letter-spacing: 0.04em;
    }

    .nav-links a {
      margin-left: 18px;
      color: var(--text-muted);
      font-weight: 500;
    }
    .nav-links a:hover { color: var(--accent); }

    .nav-wallet {
      margin-left: 18px;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(255,255,255,0.02);
      color: var(--text-main);
      font-size: 13px;
      cursor: pointer;
      white-space: nowrap;
    }

    .nav-wallet:hover { background: rgba(255,255,255,0.06); }

    .winky-logo {
      --size: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: calc(var(--size) * 0.18);
    }
    .winky-eye {
      width: calc(var(--size) * 0.38);
      height: calc(var(--size) * 0.38);
      border-radius: 50%;
      background: var(--accent);
      box-shadow: 0 0 10px var(--accent-soft);
      transform-origin: center center;
    }
    .winky-eye.right {
      animation: winky-blink 14s infinite ease-in-out;
    }
    @keyframes winky-blink {
      0%, 94%, 100% { transform: scaleY(1) scaleX(1); }
      96%          { transform: scaleY(0.12) scaleX(1.3); }
      97.5%        { transform: scaleY(1) scaleX(1); }
    }

    .page {
      max-width: 980px;
      margin: 0 auto 80px;
      padding: 32px 20px 80px;
    }

    .section-label {
      text-transform: uppercase;
      font-size: 11px;
      letter-spacing: 0.16em;
      color: var(--accent);
      margin-bottom: 6px;
    }

    .section-title {
      font-size: 28px;
      margin: 0 0 8px;
    }

    .section-text {
      margin: 0 0 24px;
      color: var(--text-muted);
      font-size: 15px;
      max-width: 640px;
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0,1.3fr) minmax(0,1fr);
      gap: 22px;
      align-items: flex-start;
    }

    .launch-card,
    .preview-card {
      background: radial-gradient(circle at top left,
        rgba(0,255,247,0.14), var(--card));
      border-radius: 18px;
      border: 1px solid rgba(255,255,255,0.10);
      padding: 18px 18px 20px;
    }

    .launch-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 12px 14px;
      margin-top: 10px;
      margin-bottom: 10px;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 13px;
    }

    .field-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.14em;
      color: var(--text-muted);
    }

    .input,
    .textarea {
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.4);
      color: var(--text-main);
      padding: 8px 10px;
      font-size: 13px;
      outline: none;
    }

    .textarea {
      resize: vertical;
      min-height: 70px;
    }

    .input::placeholder,
    .textarea::placeholder {
      color: rgba(255,255,255,0.4);
    }

    .input:focus,
    .textarea:focus {
      border-color: var(--accent-soft);
      box-shadow: 0 0 10px var(--accent-soft);
    }

    .small-row {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 6px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 8px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.16);
      background: rgba(0,0,0,0.45);
      color: var(--text-main);
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      text-decoration: none;
      transition:
        background .15s ease,
        box-shadow .15s ease,
        transform .15s ease,
        border-color .15s ease;
      white-space: nowrap;
    }

    .btn-primary {
      background: var(--accent);
      border-color: transparent;
      color: #020303;
      box-shadow: 0 0 16px var(--accent-strong);
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 0 22px var(--accent-strong);
    }

    .btn-secondary:hover {
      background: rgba(255,255,255,0.08);
      transform: translateY(-1px);
    }

    .btn[disabled] {
      opacity: 0.5;
      cursor: default;
      transform: none;
      box-shadow: none;
    }

    /* Logo / Image section */
    .logo-section {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid rgba(255,255,255,0.10);
    }

    .logo-options {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin: 6px 0 10px;
      font-size: 12px;
    }

    .logo-options label {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
    }

    .logo-ai-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 6px;
    }

    .logo-ai-input {
      flex: 1 1 180px;
    }

    .logo-gallery {
      display: flex;
      gap: 8px;
      margin-top: 10px;
      flex-wrap: wrap;
    }

    .logo-thumb {
      width: 52px;
      height: 52px;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.14);
      cursor: pointer;
      position: relative;
    }

    .logo-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .logo-thumb.active {
      box-shadow: 0 0 0 2px var(--accent);
      border-color: var(--accent);
    }

    .logo-thumb-badge {
      position: absolute;
      bottom: 4px;
      right: 4px;
      font-size: 9px;
      background: rgba(0,0,0,0.7);
      padding: 1px 4px;
      border-radius: 999px;
    }

    .preview-logo {
      width: 72px;
      height: 72px;
      border-radius: 20px;
      background: #111622;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 20px;
      color: var(--accent);
      overflow: hidden;
      flex-shrink: 0;
    }

    .preview-logo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }

    .preview-header {
      display: flex;
      gap: 14px;
      align-items: center;
      margin-bottom: 12px;
    }

    .preview-name {
      font-size: 18px;
      font-weight: 600;
    }

    .preview-ticker {
      font-size: 13px;
      color: var(--text-muted);
    }

    .preview-desc {
      font-size: 14px;
      color: var(--text-muted);
      margin: 4px 0 10px;
    }

    .preview-links {
      font-size: 12px;
      color: var(--text-muted);
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .preview-links a {
      color: var(--accent);
      text-decoration: none;
    }

    .preview-meta {
      margin-top: 10px;
      font-size: 12px;
      color: var(--text-muted);
    }

    .preview-actions {
      margin-top: 14px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .footer {
      max-width: 980px;
      margin: 0 auto;
      padding: 0 20px 32px;
      font-size: 12px;
      color: var(--text-muted);
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 6px;
      border-top: 1px solid rgba(255,255,255,0.08);
    }

    @media (max-width: 800px) {
      .layout {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 720px) {
      .nav-links { display: none; }
      .nav-wallet {
        padding: 6px 12px;
        font-size: 12px;
      }
    }
  </style>
</head>

<body>
  <!-- NAV -->
  <header class="nav">
    <div class="nav-brand">
      <div class="winky-logo">
        <span class="winky-eye left"></span>
        <span class="winky-eye right"></span>
      </div>
      <span>Winky</span>
    </div>
    <nav class="nav-links">
      <a href="index.html">Home</a>
      <a href="dashboard.html">Dashboard</a>
      <a href="tracker.html">Token tracker</a>
      <a href="portfolio.html">Stake</a>
    </nav>
    <button id="wallet-button" class="nav-wallet" type="button">
      Connect wallet
    </button>
  </header>

  <main class="page">
    <div class="section-label">Launch</div>
    <h1 class="section-title">Launch a meme token with Winky</h1>
    <p class="section-text">
      Fill in your token basics, generate or upload a logo and preview how it will look.
      Later, this flow can send a real PumpFun launch transaction from your connected wallet.
    </p>

    <div class="layout">
      <!-- LEFT: FORM -->
      <section class="launch-card">
        <h2 style="margin:0 0 8px;font-size:16px;">Token setup</h2>

        <div class="launch-grid">
          <div class="field">
            <label class="field-label" for="token-name">Token name</label>
            <input id="token-name" class="input" type="text" placeholder="e.g. Winky The Watcher" />
          </div>

          <div class="field">
            <label class="field-label" for="token-ticker">Ticker</label>
            <input id="token-ticker" class="input" type="text" placeholder="e.g. WINKY" maxlength="8" />
          </div>

          <div class="field">
            <label class="field-label" for="token-supply">Initial supply</label>
            <input id="token-supply" class="input" type="text" placeholder="e.g. 1 000 000 000" />
          </div>

          <div class="field">
            <label class="field-label" for="token-website">Website (optional)</label>
            <input id="token-website" class="input" type="text" placeholder="https://your-meme.com" />
          </div>

          <div class="field">
            <label class="field-label" for="token-twitter">X / Twitter handle</label>
            <input id="token-twitter" class="input" type="text" placeholder="@yourmeme" />
          </div>

          <div class="field">
            <label class="field-label" for="token-discord">Discord (optional)</label>
            <input id="token-discord" class="input" type="text" placeholder="https://discord.gg/..." />
          </div>
        </div>

        <div class="field">
          <label class="field-label" for="token-story">Idea &amp; story</label>
          <textarea
            id="token-story"
            class="textarea"
            placeholder="Explain the meme, the narrative and what makes this token fun."
          ></textarea>
        </div>

        <!-- LOGO / IMAGE SECTION -->
        <div class="logo-section">
          <div class="field-label">Logo</div>
          <div class="logo-options">
            <label>
              <input type="radio" name="logo-mode" value="upload" checked />
              Upload image
            </label>
            <label>
              <input type="radio" name="logo-mode" value="url" />
              From image URL
            </label>
            <label>
              <input type="radio" name="logo-mode" value="ai" />
              Generate with NanoBanana
            </label>
          </div>

          <!-- Upload -->
          <div id="logo-upload-row" class="small-row">
            <input
              id="logo-file"
              type="file"
              accept="image/*"
              style="font-size:12px;color:var(--text-muted);"
            />
            <span>Recommended: 512x512 px, square.</span>
          </div>

          <!-- URL -->
          <div id="logo-url-row" class="small-row" style="display:none;">
            <input
              id="logo-url-input"
              class="input"
              type="text"
              placeholder="https://example.com/your-logo.png"
              style="flex:1 1 260px;"
            />
            <button class="btn btn-secondary" type="button" id="logo-url-apply">
              Use URL
            </button>
          </div>

          <!-- AI -->
          <div id="logo-ai-row" style="display:none;">
            <div class="logo-ai-row">
              <input
                id="logo-ai-prompt"
                class="input logo-ai-input"
                type="text"
                placeholder="Cute AI-generated meme logo, simple, bold colors..."
              />
              <button class="btn btn-primary" type="button" id="logo-ai-generate">
                Generate logo
              </button>
            </div>
            <div class="small-row">
              <span id="logo-ai-status">Model: NanoBanana / Google AI Studio (via Worker)</span>
            </div>
            <div class="logo-gallery" id="logo-gallery"></div>
          </div>
        </div>

        <div class="small-row" style="margin-top:14px;">
          <button class="btn btn-secondary" type="button" id="preview-json">
            Preview launch config (JSON)
          </button>
          <span style="font-size:12px;color:var(--text-muted);">
            Later this will create a real PumpFun launch transaction from your connected wallet.
          </span>
        </div>
      </section>

      <!-- RIGHT: PREVIEW -->
      <section class="preview-card">
        <h2 style="margin:0 0 10px;font-size:16px;">Live preview</h2>

        <div class="preview-header">
          <div class="preview-logo" id="preview-logo">
            <span id="preview-logo-fallback">?</span>
          </div>
          <div>
            <div class="preview-name" id="preview-name">Unnamed token</div>
            <div class="preview-ticker" id="preview-ticker">$TICKER</div>
          </div>
        </div>

        <p class="preview-desc" id="preview-desc">
          This is where your meme story will appear. Describe your idea above to see it here.
        </p>

        <div class="preview-links" id="preview-links">
          <!-- website / twitter / discord -->
        </div>

        <div class="preview-meta" id="preview-meta">
          Supply: not set · Fees: standard PumpFun fees (no extra Winky fee in this mode)
        </div>

        <div class="preview-actions">
          <button class="btn btn-primary" type="button" id="launch-pumpfun">
            Launch on PumpFun (placeholder)
          </button>
          <a class="btn btn-secondary" id="download-logo" href="#" download="token-logo.png">
            Download logo
          </a>
        </div>
      </section>
    </div>
  </main>

  <footer class="footer">
    <span>© 2025 Winky · Experimental Solana meme tooling. DYOR.</span>
    <span>
      <a href="index.html#top">Back to main page</a>
      ·
      <a href="https://github.com/SvdowUser/winky-site" target="_blank" rel="noreferrer">GitHub</a>
    </span>
  </footer>

  <script>
    // === Shared wallet button (simple Phantom connect) ===
    const WINKY_WALLET_STORAGE_KEY = "winkyWalletAddress";

    function shortAddress(addr) {
      if (!addr || addr.length < 8) return addr || "";
      return addr.slice(0,4) + "…" + addr.slice(-4);
    }

    async function connectWinkyWallet() {
      const btn = document.getElementById("wallet-button");
      if (!btn) return;

      if (!window.solana || !window.solana.isPhantom) {
        alert("Please install the Phantom wallet extension.");
        window.open("https://phantom.app/", "_blank");
        return;
      }

      try {
        btn.disabled = true;
        btn.textContent = "Connecting…";
        const resp = await window.solana.connect();
        const pubkey = resp.publicKey.toString();
        localStorage.setItem(WINKY_WALLET_STORAGE_KEY, pubkey);
        btn.textContent = shortAddress(pubkey);
      } catch (err) {
        console.error(err);
        const saved = localStorage.getItem(WINKY_WALLET_STORAGE_KEY);
        btn.textContent = saved ? shortAddress(saved) : "Connect wallet";
      } finally {
        btn.disabled = false;
      }
    }

    function initWalletButton() {
      const btn = document.getElementById("wallet-button");
      if (!btn) return;
      btn.addEventListener("click", connectWinkyWallet);
      const saved = localStorage.getItem(WINKY_WALLET_STORAGE_KEY);
      btn.textContent = saved ? shortAddress(saved) : "Connect wallet";
    }

    // === Launcher state ===
    const state = {
      name: "",
      ticker: "",
      supply: "",
      website: "",
      twitter: "",
      discord: "",
      story: "",
      logoUrl: null,       // aktuelles Logo für Preview
      logoGallery: [],     // letzte AI-Generierungen
    };

    function updatePreview() {
      const nameEl   = document.getElementById("preview-name");
      const tickerEl = document.getElementById("preview-ticker");
      const descEl   = document.getElementById("preview-desc");
      const linksEl  = document.getElementById("preview-links");
      const logoBox  = document.getElementById("preview-logo");
      const logoFallback = document.getElementById("preview-logo-fallback");

      const name   = state.name || "Unnamed token";
      const ticker = state.ticker || "TICKER";

      nameEl.textContent = name;
      tickerEl.textContent = "$" + ticker;

      if (state.story && state.story.trim()) {
        descEl.textContent = state.story.trim();
      } else {
        descEl.textContent =
          "This is where your meme story will appear. Describe your idea above to see it here.";
      }

      // Links
      let html = [];
      if (state.website) {
        html.push(
          '<span>Website: <a href="' +
          state.website +
          '" target="_blank" rel="noreferrer">link</a></span>'
        );
      }
      if (state.twitter) {
        html.push(
          '<span>X: <a href="https://x.com/' +
          state.twitter.replace(/^@/, "") +
          '" target="_blank" rel="noreferrer">@' +
          state.twitter.replace(/^@/, "") + '</a></span>'
        );
      }
      if (state.discord) {
        html.push(
          '<span>Discord: <a href="' +
          state.discord +
          '" target="_blank" rel="noreferrer">join</a></span>'
        );
      }
      linksEl.innerHTML = html.join(" · ");

      // Logo
      const oldImg = logoBox.querySelector("img");
      if (oldImg) {
        oldImg.remove();
      }

      if (state.logoUrl) {
        const img = document.createElement("img");
        img.src = state.logoUrl;
        logoBox.appendChild(img);
        logoFallback.style.display = "none";
      } else {
        logoFallback.style.display = "block";
        logoFallback.textContent = (ticker || "?")[0] || "?";
      }
    }

    // === Logo mode handling ===
    function setLogoMode(mode) {
      document.getElementById("logo-upload-row").style.display =
        mode === "upload" ? "flex" : "none";
      document.getElementById("logo-url-row").style.display =
        mode === "url" ? "flex" : "none";
      document.getElementById("logo-ai-row").style.display =
        mode === "ai" ? "block" : "none";
    }

    // === File upload -> logoUrl (Data URL) ===
    function handleLogoFile(file) {
      if (!file) return;
      const reader = new FileReader();
      reader.onload = () => {
        state.logoUrl = reader.result;
        updatePreview();
        // Download-Button aktualisieren
        const dl = document.getElementById("download-logo");
        dl.href = state.logoUrl;
      };
      reader.readAsDataURL(file);
    }

    // === Logo per URL ===
    function applyLogoUrlFromInput() {
      const input = document.getElementById("logo-url-input");
      if (!input.value) return;
      state.logoUrl = input.value.trim();
      updatePreview();
      const dl = document.getElementById("download-logo");
      dl.href = state.logoUrl;
    }

    // === NanoBanana AI call via Worker ===
    const NANOBANANA_WORKER = "https://winky-nanobanana-worker.christopher-milosch.workers.dev"; // <- ANPASSEN

    async function generateLogoWithAI() {
      const promptEl = document.getElementById("logo-ai-prompt");
      const statusEl = document.getElementById("logo-ai-status");
      const gallery  = document.getElementById("logo-gallery");
      const btn      = document.getElementById("logo-ai-generate");
      const prompt   = (promptEl.value || "").trim();

      if (!prompt) {
        alert("Please enter a short prompt for the logo.");
        return;
      }

      btn.disabled = true;
      statusEl.textContent = "Generating via NanoBanana…";

      try {
        const res = await fetch(NANOBANANA_WORKER, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ prompt }),
        });
        const json = await res.json();
        console.log("NanoBanana worker response:", json);

        if (!json.success || !json.imageUrl) {
          statusEl.textContent = "Failed to generate image (check Worker / API).";
          return;
        }

        const url = json.imageUrl;
        state.logoUrl = url;
        updatePreview();

        const dl = document.getElementById("download-logo");
        dl.href = url;

        // in Galerie speichern
        state.logoGallery.unshift(url);
        state.logoGallery = state.logoGallery.slice(0, 6); // max 6 Bilder

        gallery.innerHTML = "";
        state.logoGallery.forEach((u, idx) => {
          const div = document.createElement("div");
          div.className = "logo-thumb" + (idx === 0 ? " active" : "");
          const img = document.createElement("img");
          img.src = u;
          div.appendChild(img);

          const badge = document.createElement("div");
          badge.className = "logo-thumb-badge";
          badge.textContent = idx === 0 ? "latest" : "#" + (idx + 1);
          div.appendChild(badge);

          div.addEventListener("click", () => {
            state.logoUrl = u;
            updatePreview();
            dl.href = u;
            gallery
              .querySelectorAll(".logo-thumb")
              .forEach(el => el.classList.remove("active"));
            div.classList.add("active");
          });

          gallery.appendChild(div);
        });

        statusEl.textContent = "Generated successfully.";
      } catch (err) {
        console.error(err);
        statusEl.textContent = "Error while calling NanoBanana Worker.";
      } finally {
        btn.disabled = false;
      }
    }

    // === JSON preview of launch config ===
    function previewLaunchJson() {
      const wallet = localStorage.getItem(WINKY_WALLET_STORAGE_KEY) || null;

      const feeTotal = 0; // für PumpFun-Modus derzeit keine extra Winky-Fee

      const data = {
        name: state.name || "Unnamed token",
        symbol: (state.ticker || "TICKER").toUpperCase(),
        supply: state.supply || null,
        story: state.story || "",
        links: {
          website: state.website || null,
          twitter: state.twitter || null,
          discord: state.discord || null,
        },
        logoUrl: state.logoUrl || null,
        creatorWallet: wallet,
        network: "solana",
        launchMode: "pumpfun",
        feeModel: {
          tradeFeePercentTotal: feeTotal,
          split: {
            creator: 0,
            prizePool: 0
          }
        }
      };

      alert(
        "Launch preview (UI only – copy for PumpFun):\n\n" +
        JSON.stringify(data, null, 2)
      );
    }

    // === "Launch on PumpFun" button (placeholder) ===
    function handleLaunchPumpfun() {
      alert(
        "This is a placeholder.\n\n" +
        "Next step: build a real PumpFun launch transaction using the values\n" +
        "from this preview and your connected wallet."
      );
      // spätere Version: window.open("https://pump.fun/create", "_blank");
    }

    // === Init ===
    document.addEventListener("DOMContentLoaded", () => {
      initWalletButton();

      // Input binding
      document.getElementById("token-name").addEventListener("input", e => {
        state.name = e.target.value;
        updatePreview();
      });
      document.getElementById("token-ticker").addEventListener("input", e => {
        state.ticker = e.target.value.toUpperCase();
        updatePreview();
      });
      document.getElementById("token-supply").addEventListener("input", e => {
        state.supply = e.target.value;
        updatePreview();
      });
      document.getElementById("token-website").addEventListener("input", e => {
        state.website = e.target.value;
        updatePreview();
      });
      document.getElementById("token-twitter").addEventListener("input", e => {
        state.twitter = e.target.value;
        updatePreview();
      });
      document.getElementById("token-discord").addEventListener("input", e => {
        state.discord = e.target.value;
        updatePreview();
      });
      document.getElementById("token-story").addEventListener("input", e => {
        state.story = e.target.value;
        updatePreview();
      });

      // Logo mode
      document.querySelectorAll('input[name="logo-mode"]').forEach(radio => {
        radio.addEventListener("change", e => {
          setLogoMode(e.target.value);
        });
      });

      // File upload
      document.getElementById("logo-file").addEventListener("change", e => {
        const file = e.target.files && e.target.files[0];
        handleLogoFile(file);
      });

      // URL
      document.getElementById("logo-url-apply").addEventListener("click", applyLogoUrlFromInput);

      // AI
      document.getElementById("logo-ai-generate").addEventListener("click", generateLogoWithAI);

      // JSON preview
      document.getElementById("preview-json").addEventListener("click", previewLaunchJson);

      // Launch placeholder
      document.getElementById("launch-pumpfun").addEventListener("click", handleLaunchPumpfun);

      // Download-Button zuerst deaktivieren
      const dl = document.getElementById("download-logo");
      dl.href = "#";
      updatePreview();
    });
  </script>
</body>
</html>
